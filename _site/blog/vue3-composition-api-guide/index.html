<!DOCTYPE html>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>Vue 3 Composition API å®Œå…¨æŒ‡å— - ä¸ªäººå®˜ç½‘</title>
    <meta name="description" content="ä¸ªäººå®˜ç½‘ï¼Œå±•ç¤ºæŠ€æœ¯èƒ½åŠ›ã€é¡¹ç›®ä½œå“å’Œä¸ªäººè§è§£ã€‚è‡´åŠ›äºåˆ›é€ ä¼˜é›…çš„ç”¨æˆ·ä½“éªŒå’Œé«˜è´¨é‡çš„æŠ€æœ¯è§£å†³æ–¹æ¡ˆã€‚">
    <meta name="author" content="Zane">
    <meta name="keywords" content="Vue3, Composition API, JavaScript, å‰ç«¯">
    <meta name="robots" content="index, follow">
    <meta name="language" content="zh-CN">
    
    <!-- Google Site Verification -->
    
    <meta name="google-site-verification" content="">
    
    
    <!-- Bing Site Verification -->
    
    <meta name="msvalidate.01" content="">
    
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Vue 3 Composition API å®Œå…¨æŒ‡å—">
    <meta property="og:description" content="ä¸ªäººå®˜ç½‘ï¼Œå±•ç¤ºæŠ€æœ¯èƒ½åŠ›ã€é¡¹ç›®ä½œå“å’Œä¸ªäººè§è§£ã€‚è‡´åŠ›äºåˆ›é€ ä¼˜é›…çš„ç”¨æˆ·ä½“éªŒå’Œé«˜è´¨é‡çš„æŠ€æœ¯è§£å†³æ–¹æ¡ˆã€‚">
    <meta property="og:type" content="article">
    <meta property="og:url" content="http://0.0.0.0:4000/blog/vue3-composition-api-guide/">
    <meta property="og:image" content="https://trae-api-sg.mchost.guru/api/ide/v1/text_to_image?prompt=Vue.js%20logo%20composition%20api%20modern%20web%20development&image_size=landscape_16_9">
    <meta property="og:site_name" content="ä¸ªäººå®˜ç½‘">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Vue 3 Composition API å®Œå…¨æŒ‡å—">
    <meta name="twitter:description" content="ä¸ªäººå®˜ç½‘ï¼Œå±•ç¤ºæŠ€æœ¯èƒ½åŠ›ã€é¡¹ç›®ä½œå“å’Œä¸ªäººè§è§£ã€‚è‡´åŠ›äºåˆ›é€ ä¼˜é›…çš„ç”¨æˆ·ä½“éªŒå’Œé«˜è´¨é‡çš„æŠ€æœ¯è§£å†³æ–¹æ¡ˆã€‚">
    <meta name="twitter:image" content="https://trae-api-sg.mchost.guru/api/ide/v1/text_to_image?prompt=Vue.js%20logo%20composition%20api%20modern%20web%20development&image_size=landscape_16_9">
    
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/assets/css/main.css">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#42b883">
    <meta name="msapplication-TileColor" content="#42b883">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="http://0.0.0.0:4000/blog/vue3-composition-api-guide/">
    
    <!-- RSS Feed -->
    <link rel="alternate" type="application/rss+xml" title="ä¸ªäººå®˜ç½‘" href="/feed.xml">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="/assets/css/main.css" as="style">
    <link rel="preload" href="/assets/js/main.js" as="script">
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    
    <!-- Google Analytics -->
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XXXXXXXXXX');
    </script>
    
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Zane",
        "url": "http://0.0.0.0:4000",
        "sameAs": [
            
            "{{ site.data.personal.social.github.url }}",
            
            "{{ site.data.personal.social.linkedin.url }}",
            
            "{{ site.data.personal.social.twitter.url }}",
            
            "{{ site.data.personal.social.juejin.url }}",
            
            "{{ site.data.personal.social.zhihu.url }}",
            
            "mailto:{{ site.data.personal.contact.email }}"
            
        ],
        "jobTitle": "å…¨æ ˆå¼€å‘è€…",
        "worksFor": {
            "@type": "Organization",
            "name": "Freelancer"
        },
        "description": "çƒ­çˆ±æŠ€æœ¯åˆ›æ–°ï¼Œä¸“æ³¨äºå‰ç«¯å¼€å‘å’Œç”¨æˆ·ä½“éªŒè®¾è®¡",
        "image": "http://0.0.0.0:4000/assets/images/avatar.svg"
    }
    </script>
</head>

    <body>
        <!-- Navigation -->
        <nav class="navbar" id="navbar">
    <div class="container">
        <!-- Brand -->
        <a href="/" class="navbar-brand">
            <div class="brand-logo">ä¸ª</div>
            <span>ä¸ªäººå“ç‰Œ</span>
        </a>
        
        <!-- Desktop Navigation -->
        <ul class="navbar-nav">
            <li class="nav-item">
                <a href="/" class="nav-link ">é¦–é¡µ</a>
            </li>
            <li class="nav-item">
                <a href="/about" class="nav-link ">å…³äºæˆ‘</a>
            </li>
            <li class="nav-item">
                <a href="/projects" class="nav-link ">é¡¹ç›®</a>
            </li>
            <li class="nav-item">
                <a href="/blog" class="nav-link active">åšå®¢</a>
            </li>
            <li class="nav-item">
                <a href="/contact" class="nav-link ">è”ç³»</a>
            </li>
        </ul>
        
        <!-- Actions -->
        <div class="navbar-actions">
            <button class="theme-toggle" id="theme-toggle" aria-label="åˆ‡æ¢ä¸»é¢˜">
                <span class="theme-icon">ğŸŒ™</span>
            </button>
            <a href="/contact" class="btn contact-btn">è”ç³»æˆ‘</a>
        </div>
        
        <!-- Mobile Toggle -->
        <button class="navbar-toggler" id="navbar-toggler" aria-label="æ‰“å¼€èœå•">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>
</nav>

<!-- Mobile Menu -->
<div class="navbar-mobile" id="navbar-mobile">
    <div class="mobile-menu">
        <div class="mobile-menu-header">
            <div class="mobile-brand">ä¸ªäººå“ç‰Œ</div>
            <button class="mobile-close" id="mobile-close" aria-label="å…³é—­èœå•">
                âœ•
            </button>
        </div>
        <ul class="mobile-nav">
            <li class="nav-item">
                <a href="/" class="nav-link ">é¦–é¡µ</a>
            </li>
            <li class="nav-item">
                <a href="/about" class="nav-link ">å…³äºæˆ‘</a>
            </li>
            <li class="nav-item">
                <a href="/projects" class="nav-link ">é¡¹ç›®</a>
            </li>
            <li class="nav-item">
                <a href="/blog" class="nav-link active">åšå®¢</a>
            </li>
            <li class="nav-item">
                <a href="/contact" class="nav-link ">è”ç³»</a>
            </li>
        </ul>
        <div class="mobile-actions">
            <a href="/contact" class="btn contact-btn">è”ç³»æˆ‘</a>
            <button class="btn theme-toggle">
                <span class="theme-icon">ğŸŒ™</span>
                åˆ‡æ¢ä¸»é¢˜
            </button>
        </div>
    </div>
</div>

        
        <!-- Main Content -->
        <main class="main-content">
            <main class="post-content">
    <!-- Post Hero -->
    <section class="post-hero">
        <div class="container">
            <div class="post-header">
                <nav class="breadcrumb fade-in-up" aria-label="é¢åŒ…å±‘å¯¼èˆª">
                    <ol>
                        <li><a href="/">é¦–é¡µ</a></li>
                        <li><a href="/blog/">åšå®¢</a></li>
                        <li>Vue 3 Composition API å®Œå…¨æŒ‡å—</li>
                    </ol>
                </nav>
                <h1 class="post-title fade-in-up">Vue 3 Composition API å®Œå…¨æŒ‡å—</h1>
                <div class="post-meta fade-in-up">
                    <time datetime="2024-01-15T00:00:00+08:00">
                        2024å¹´01æœˆ15æ—¥
                    </time>
                    <span class="post-author">Zane</span>
                    
                    <div class="post-categories">
                        
                        <span class="category">å‰ç«¯å¼€å‘</span>
                        
                        <span class="category">Vue.js</span>
                        
                    </div>
                    
                    
                    <div class="post-tags">
                        
                        <span class="tag">#Vue3</span>
                        
                        <span class="tag">#Composition API</span>
                        
                        <span class="tag">#JavaScript</span>
                        
                        <span class="tag">#å‰ç«¯</span>
                        
                    </div>
                    
                </div>
                
                <p class="post-excerpt fade-in-up">æ·±å…¥äº†è§£ Vue 3 Composition API çš„æ ¸å¿ƒæ¦‚å¿µã€ä½¿ç”¨æ–¹æ³•å’Œæœ€ä½³å®è·µï¼Œå¸®åŠ©ä½ æ›´å¥½åœ°æ„å»ºç°ä»£åŒ–çš„ Vue åº”ç”¨ã€‚</p>
                
            </div>
        </div>
    </section>

    <!-- Post Content -->
    <section class="post-body">
        <div class="container">
            <div class="post-content-wrapper">
                <article class="prose">
                    <p>Vue 3 å¼•å…¥çš„ Composition API æ˜¯ä¸€ä¸ªé‡å¤§çš„å˜é©ï¼Œå®ƒä¸ºæˆ‘ä»¬æä¾›äº†æ›´çµæ´»ã€æ›´å¼ºå¤§çš„ç»„ä»¶é€»è¾‘ç»„ç»‡æ–¹å¼ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ Composition API çš„æ ¸å¿ƒæ¦‚å¿µå’Œå®é™…åº”ç”¨ã€‚</p>

<h2 id="ä»€ä¹ˆæ˜¯-composition-api">ä»€ä¹ˆæ˜¯ Composition APIï¼Ÿ</h2>

<p>Composition API æ˜¯ Vue 3 ä¸­æ–°å¢çš„ä¸€å¥— APIï¼Œå®ƒå…è®¸æˆ‘ä»¬ä½¿ç”¨å‡½æ•°çš„æ–¹å¼æ¥ç»„ç»‡ç»„ä»¶çš„é€»è¾‘ã€‚ç›¸æ¯”äº Options APIï¼ŒComposition API æä¾›äº†æ›´å¥½çš„é€»è¾‘å¤ç”¨æ€§å’Œç±»å‹æ¨å¯¼æ”¯æŒã€‚</p>

<h3 id="æ ¸å¿ƒä¼˜åŠ¿">æ ¸å¿ƒä¼˜åŠ¿</h3>

<ol>
  <li><strong>æ›´å¥½çš„é€»è¾‘å¤ç”¨</strong> - é€šè¿‡ç»„åˆå‡½æ•°å®ç°é€»è¾‘å¤ç”¨</li>
  <li><strong>æ›´å¥½çš„ç±»å‹æ¨å¯¼</strong> - å¯¹ TypeScript çš„æ”¯æŒæ›´åŠ å‹å¥½</li>
  <li><strong>æ›´çµæ´»çš„ä»£ç ç»„ç»‡</strong> - ç›¸å…³é€»è¾‘å¯ä»¥ç»„ç»‡åœ¨ä¸€èµ·</li>
  <li><strong>æ›´å°çš„æ‰“åŒ…ä½“ç§¯</strong> - æ›´å¥½çš„ tree-shaking æ”¯æŒ</li>
</ol>

<h2 id="åŸºç¡€ç”¨æ³•">åŸºç¡€ç”¨æ³•</h2>

<h3 id="setup-å‡½æ•°">setup å‡½æ•°</h3>

<p><code class="language-plaintext highlighter-rouge">setup</code> å‡½æ•°æ˜¯ Composition API çš„å…¥å£ç‚¹ï¼š</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">reactive</span><span class="p">,</span> <span class="nx">computed</span><span class="p">,</span> <span class="nx">onMounted</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// å“åº”å¼æ•°æ®</span>
    <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="kd">const</span> <span class="nx">state</span> <span class="o">=</span> <span class="nx">reactive</span><span class="p">({</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Vue 3</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">version</span><span class="p">:</span> <span class="dl">'</span><span class="s1">3.0</span><span class="dl">'</span>
    <span class="p">})</span>
    
    <span class="c1">// è®¡ç®—å±æ€§</span>
    <span class="kd">const</span> <span class="nx">doubleCount</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">count</span><span class="p">.</span><span class="nx">value</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
    
    <span class="c1">// æ–¹æ³•</span>
    <span class="kd">const</span> <span class="nx">increment</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span>
    <span class="p">}</span>
    
    <span class="c1">// ç”Ÿå‘½å‘¨æœŸ</span>
    <span class="nx">onMounted</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">ç»„ä»¶å·²æŒ‚è½½</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">})</span>
    
    <span class="c1">// è¿”å›æ¨¡æ¿éœ€è¦çš„æ•°æ®å’Œæ–¹æ³•</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">count</span><span class="p">,</span>
      <span class="nx">state</span><span class="p">,</span>
      <span class="nx">doubleCount</span><span class="p">,</span>
      <span class="nx">increment</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="å“åº”å¼-api">å“åº”å¼ API</h3>

<h4 id="ref-å’Œ-reactive">ref å’Œ reactive</h4>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">reactive</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="c1">// ref - ç”¨äºåŸºæœ¬ç±»å‹</span>
<span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hello</span><span class="dl">'</span><span class="p">)</span>

<span class="c1">// reactive - ç”¨äºå¯¹è±¡ç±»å‹</span>
<span class="kd">const</span> <span class="nx">state</span> <span class="o">=</span> <span class="nx">reactive</span><span class="p">({</span>
  <span class="na">user</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">John</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">age</span><span class="p">:</span> <span class="mi">30</span>
  <span class="p">},</span>
  <span class="na">posts</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">})</span>

<span class="c1">// è®¿é—® ref çš„å€¼éœ€è¦ä½¿ç”¨ .value</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="c1">// 0</span>
<span class="nx">count</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="mi">1</span>

<span class="c1">// reactive å¯¹è±¡å¯ä»¥ç›´æ¥è®¿é—®</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span> <span class="c1">// 'John'</span>
<span class="nx">state</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Jane</span><span class="dl">'</span>
</code></pre></div></div>

<h4 id="computed-è®¡ç®—å±æ€§">computed è®¡ç®—å±æ€§</h4>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">computed</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">firstName</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="dl">'</span><span class="s1">John</span><span class="dl">'</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">lastName</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="dl">'</span><span class="s1">Doe</span><span class="dl">'</span><span class="p">)</span>

<span class="c1">// åªè¯»è®¡ç®—å±æ€§</span>
<span class="kd">const</span> <span class="nx">fullName</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s2">`</span><span class="p">${</span><span class="nx">firstName</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span><span class="s2"> </span><span class="p">${</span><span class="nx">lastName</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span><span class="s2">`</span>
<span class="p">})</span>

<span class="c1">// å¯å†™è®¡ç®—å±æ€§</span>
<span class="kd">const</span> <span class="nx">fullNameWritable</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">({</span>
  <span class="kd">get</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">`</span><span class="p">${</span><span class="nx">firstName</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span><span class="s2"> </span><span class="p">${</span><span class="nx">lastName</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span><span class="s2">`</span>
  <span class="p">},</span>
  <span class="kd">set</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">[</span><span class="nx">firstName</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span> <span class="nx">lastName</span><span class="p">.</span><span class="nx">value</span><span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<h4 id="watch-å’Œ-watcheffect">watch å’Œ watchEffect</h4>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">watch</span><span class="p">,</span> <span class="nx">watchEffect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">state</span> <span class="o">=</span> <span class="nx">reactive</span><span class="p">({</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Vue</span><span class="dl">'</span> <span class="p">})</span>

<span class="c1">// watch - ç›‘å¬ç‰¹å®šæ•°æ®æº</span>
<span class="nx">watch</span><span class="p">(</span><span class="nx">count</span><span class="p">,</span> <span class="p">(</span><span class="nx">newValue</span><span class="p">,</span> <span class="nx">oldValue</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`count changed from </span><span class="p">${</span><span class="nx">oldValue</span><span class="p">}</span><span class="s2"> to </span><span class="p">${</span><span class="nx">newValue</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
<span class="p">})</span>

<span class="c1">// ç›‘å¬å¤šä¸ªæ•°æ®æº</span>
<span class="nx">watch</span><span class="p">([</span><span class="nx">count</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nx">name</span><span class="p">],</span> <span class="p">([</span><span class="nx">newCount</span><span class="p">,</span> <span class="nx">newName</span><span class="p">],</span> <span class="p">[</span><span class="nx">oldCount</span><span class="p">,</span> <span class="nx">oldName</span><span class="p">])</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Multiple values changed</span><span class="dl">'</span><span class="p">)</span>
<span class="p">})</span>

<span class="c1">// watchEffect - è‡ªåŠ¨è¿½è¸ªä¾èµ–</span>
<span class="nx">watchEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Count is </span><span class="p">${</span><span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Name is </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
<span class="p">})</span>
</code></pre></div></div>

<h2 id="ç»„åˆå‡½æ•°-composables">ç»„åˆå‡½æ•° (Composables)</h2>

<p>ç»„åˆå‡½æ•°æ˜¯ Composition API çš„æ ¸å¿ƒç‰¹æ€§ä¹‹ä¸€ï¼Œå®ƒå…è®¸æˆ‘ä»¬å°†ç›¸å…³çš„é€»è¾‘å°è£…æˆå¯å¤ç”¨çš„å‡½æ•°ã€‚</p>

<h3 id="åˆ›å»ºç»„åˆå‡½æ•°">åˆ›å»ºç»„åˆå‡½æ•°</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// composables/useCounter.js</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">computed</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="k">export</span> <span class="kd">function</span> <span class="nx">useCounter</span><span class="p">(</span><span class="nx">initialValue</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="nx">initialValue</span><span class="p">)</span>
  
  <span class="kd">const</span> <span class="nx">doubleCount</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">count</span><span class="p">.</span><span class="nx">value</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
  
  <span class="kd">const</span> <span class="nx">increment</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span>
  <span class="p">}</span>
  
  <span class="kd">const</span> <span class="nx">decrement</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">--</span>
  <span class="p">}</span>
  
  <span class="kd">const</span> <span class="nx">reset</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">count</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">initialValue</span>
  <span class="p">}</span>
  
  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">count</span><span class="p">,</span>
    <span class="nx">doubleCount</span><span class="p">,</span>
    <span class="nx">increment</span><span class="p">,</span>
    <span class="nx">decrement</span><span class="p">,</span>
    <span class="nx">reset</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="ä½¿ç”¨ç»„åˆå‡½æ•°">ä½¿ç”¨ç»„åˆå‡½æ•°</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useCounter</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@/composables/useCounter</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">count</span><span class="p">,</span> <span class="nx">doubleCount</span><span class="p">,</span> <span class="nx">increment</span><span class="p">,</span> <span class="nx">decrement</span><span class="p">,</span> <span class="nx">reset</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useCounter</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">count</span><span class="p">,</span>
      <span class="nx">doubleCount</span><span class="p">,</span>
      <span class="nx">increment</span><span class="p">,</span>
      <span class="nx">decrement</span><span class="p">,</span>
      <span class="nx">reset</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="ç”Ÿå‘½å‘¨æœŸé’©å­">ç”Ÿå‘½å‘¨æœŸé’©å­</h2>

<p>Composition API æä¾›äº†å¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼š</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span>
  <span class="nx">onBeforeMount</span><span class="p">,</span>
  <span class="nx">onMounted</span><span class="p">,</span>
  <span class="nx">onBeforeUpdate</span><span class="p">,</span>
  <span class="nx">onUpdated</span><span class="p">,</span>
  <span class="nx">onBeforeUnmount</span><span class="p">,</span>
  <span class="nx">onUnmounted</span>
<span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">onBeforeMount</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">ç»„ä»¶å³å°†æŒ‚è½½</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">})</span>
    
    <span class="nx">onMounted</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">ç»„ä»¶å·²æŒ‚è½½</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">})</span>
    
    <span class="nx">onBeforeUpdate</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">ç»„ä»¶å³å°†æ›´æ–°</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">})</span>
    
    <span class="nx">onUpdated</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">ç»„ä»¶å·²æ›´æ–°</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">})</span>
    
    <span class="nx">onBeforeUnmount</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">ç»„ä»¶å³å°†å¸è½½</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">})</span>
    
    <span class="nx">onUnmounted</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">ç»„ä»¶å·²å¸è½½</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">})</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="å®é™…åº”ç”¨ç¤ºä¾‹">å®é™…åº”ç”¨ç¤ºä¾‹</h2>

<p>è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„å¾…åŠäº‹é¡¹ç»„ä»¶æ¥æ¼”ç¤º Composition API çš„å®é™…åº”ç”¨ï¼š</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// components/TodoList.vue</span>
<span class="o">&lt;</span><span class="nx">template</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">div</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">todo-list</span><span class="dl">"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">å¾…åŠäº‹é¡¹</span> <span class="p">()</span><span class="o">&lt;</span><span class="sr">/h2</span><span class="err">&gt;
</span>    
    <span class="o">&lt;</span><span class="nx">form</span> <span class="p">@</span><span class="nd">submit</span><span class="p">.</span><span class="nx">prevent</span><span class="o">=</span><span class="dl">"</span><span class="s2">addTodo</span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">input</span>
        <span class="nx">v</span><span class="o">-</span><span class="nx">model</span><span class="o">=</span><span class="dl">"</span><span class="s2">newTodo</span><span class="dl">"</span>
        <span class="nx">placeholder</span><span class="o">=</span><span class="dl">"</span><span class="s2">æ·»åŠ æ–°çš„å¾…åŠäº‹é¡¹</span><span class="dl">"</span>
        <span class="nx">required</span>
      <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">submit</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">æ·»åŠ </span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/form</span><span class="err">&gt;
</span>    
    <span class="o">&lt;</span><span class="nx">div</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">filters</span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">button</span>
        <span class="nx">v</span><span class="o">-</span><span class="k">for</span><span class="o">=</span><span class="dl">"</span><span class="s2">filter in filters</span><span class="dl">"</span>
        <span class="p">:</span><span class="nx">key</span><span class="o">=</span><span class="dl">"</span><span class="s2">filter</span><span class="dl">"</span>
        <span class="p">:</span><span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">{ active: currentFilter === filter }</span><span class="dl">"</span>
        <span class="p">@</span><span class="nd">click</span><span class="o">=</span><span class="dl">"</span><span class="s2">currentFilter = filter</span><span class="dl">"</span>
      <span class="o">&gt;</span>
        
      <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    
    <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">li</span>
        <span class="nx">v</span><span class="o">-</span><span class="k">for</span><span class="o">=</span><span class="dl">"</span><span class="s2">todo in filteredTodos</span><span class="dl">"</span>
        <span class="p">:</span><span class="nx">key</span><span class="o">=</span><span class="dl">"</span><span class="s2">todo.id</span><span class="dl">"</span>
        <span class="p">:</span><span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">{ completed: todo.completed }</span><span class="dl">"</span>
      <span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">input</span>
          <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">checkbox</span><span class="dl">"</span>
          <span class="nx">v</span><span class="o">-</span><span class="nx">model</span><span class="o">=</span><span class="dl">"</span><span class="s2">todo.completed</span><span class="dl">"</span>
        <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">button</span> <span class="p">@</span><span class="nd">click</span><span class="o">=</span><span class="dl">"</span><span class="s2">removeTodo(todo.id)</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">åˆ é™¤</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/ul</span><span class="err">&gt;
</span>    
    <span class="o">&lt;</span><span class="nx">div</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">stats</span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">å·²å®Œæˆ</span><span class="p">:</span>  <span class="o">/</span> <span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">è¿›åº¦</span><span class="p">:</span> <span class="o">%&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/template</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useTodos</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@/composables/useTodos</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">TodoList</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span>
      <span class="nx">todos</span><span class="p">,</span>
      <span class="nx">newTodo</span><span class="p">,</span>
      <span class="nx">currentFilter</span><span class="p">,</span>
      <span class="nx">filters</span><span class="p">,</span>
      <span class="nx">filteredTodos</span><span class="p">,</span>
      <span class="nx">stats</span><span class="p">,</span>
      <span class="nx">addTodo</span><span class="p">,</span>
      <span class="nx">removeTodo</span>
    <span class="p">}</span> <span class="o">=</span> <span class="nx">useTodos</span><span class="p">()</span>
    
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">todos</span><span class="p">,</span>
      <span class="nx">newTodo</span><span class="p">,</span>
      <span class="nx">currentFilter</span><span class="p">,</span>
      <span class="nx">filters</span><span class="p">,</span>
      <span class="nx">filteredTodos</span><span class="p">,</span>
      <span class="nx">stats</span><span class="p">,</span>
      <span class="nx">addTodo</span><span class="p">,</span>
      <span class="nx">removeTodo</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// composables/useTodos.js</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">reactive</span><span class="p">,</span> <span class="nx">computed</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="k">export</span> <span class="kd">function</span> <span class="nx">useTodos</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">todos</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">([])</span>
  <span class="kd">const</span> <span class="nx">newTodo</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="dl">''</span><span class="p">)</span>
  <span class="kd">const</span> <span class="nx">currentFilter</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="dl">'</span><span class="s1">å…¨éƒ¨</span><span class="dl">'</span><span class="p">)</span>
  
  <span class="kd">const</span> <span class="nx">filters</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">å…¨éƒ¨</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">æœªå®Œæˆ</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">å·²å®Œæˆ</span><span class="dl">'</span><span class="p">]</span>
  
  <span class="c1">// è®¡ç®—å±æ€§</span>
  <span class="kd">const</span> <span class="nx">filteredTodos</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="nx">currentFilter</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">case</span> <span class="dl">'</span><span class="s1">æœªå®Œæˆ</span><span class="dl">'</span><span class="p">:</span>
        <span class="k">return</span> <span class="nx">todos</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">todo</span> <span class="o">=&gt;</span> <span class="o">!</span><span class="nx">todo</span><span class="p">.</span><span class="nx">completed</span><span class="p">)</span>
      <span class="k">case</span> <span class="dl">'</span><span class="s1">å·²å®Œæˆ</span><span class="dl">'</span><span class="p">:</span>
        <span class="k">return</span> <span class="nx">todos</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">todo</span> <span class="o">=&gt;</span> <span class="nx">todo</span><span class="p">.</span><span class="nx">completed</span><span class="p">)</span>
      <span class="na">default</span><span class="p">:</span>
        <span class="k">return</span> <span class="nx">todos</span><span class="p">.</span><span class="nx">value</span>
    <span class="p">}</span>
  <span class="p">})</span>
  
  <span class="kd">const</span> <span class="nx">stats</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">total</span> <span class="o">=</span> <span class="nx">todos</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">length</span>
    <span class="kd">const</span> <span class="nx">completed</span> <span class="o">=</span> <span class="nx">todos</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">todo</span> <span class="o">=&gt;</span> <span class="nx">todo</span><span class="p">.</span><span class="nx">completed</span><span class="p">).</span><span class="nx">length</span>
    <span class="kd">const</span> <span class="nx">percentage</span> <span class="o">=</span> <span class="nx">total</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">?</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">((</span><span class="nx">completed</span> <span class="o">/</span> <span class="nx">total</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="p">:</span> <span class="mi">0</span>
    
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">total</span><span class="p">,</span>
      <span class="nx">completed</span><span class="p">,</span>
      <span class="nx">percentage</span>
    <span class="p">}</span>
  <span class="p">})</span>
  
  <span class="c1">// æ–¹æ³•</span>
  <span class="kd">const</span> <span class="nx">addTodo</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">newTodo</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">trim</span><span class="p">())</span> <span class="p">{</span>
      <span class="nx">todos</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
        <span class="na">id</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span>
        <span class="na">text</span><span class="p">:</span> <span class="nx">newTodo</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">trim</span><span class="p">(),</span>
        <span class="na">completed</span><span class="p">:</span> <span class="kc">false</span>
      <span class="p">})</span>
      <span class="nx">newTodo</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="dl">''</span>
    <span class="p">}</span>
  <span class="p">}</span>
  
  <span class="kd">const</span> <span class="nx">removeTodo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">todos</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">findIndex</span><span class="p">(</span><span class="nx">todo</span> <span class="o">=&gt;</span> <span class="nx">todo</span><span class="p">.</span><span class="nx">id</span> <span class="o">===</span> <span class="nx">id</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">index</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">todos</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
  
  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">todos</span><span class="p">,</span>
    <span class="nx">newTodo</span><span class="p">,</span>
    <span class="nx">currentFilter</span><span class="p">,</span>
    <span class="nx">filters</span><span class="p">,</span>
    <span class="nx">filteredTodos</span><span class="p">,</span>
    <span class="nx">stats</span><span class="p">,</span>
    <span class="nx">addTodo</span><span class="p">,</span>
    <span class="nx">removeTodo</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="æœ€ä½³å®è·µ">æœ€ä½³å®è·µ</h2>

<h3 id="1-åˆç†ä½¿ç”¨-ref-å’Œ-reactive">1. åˆç†ä½¿ç”¨ ref å’Œ reactive</h3>

<ul>
  <li>åŸºæœ¬ç±»å‹ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">ref</code></li>
  <li>å¯¹è±¡ç±»å‹ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">reactive</code></li>
  <li>éœ€è¦æ›¿æ¢æ•´ä¸ªå¯¹è±¡æ—¶ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">ref</code></li>
</ul>

<h3 id="2-ç»„åˆå‡½æ•°å‘½åè§„èŒƒ">2. ç»„åˆå‡½æ•°å‘½åè§„èŒƒ</h3>

<ul>
  <li>ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">use</code> å‰ç¼€</li>
  <li>ä½¿ç”¨é©¼å³°å‘½åæ³•</li>
  <li>åç§°è¦å…·æœ‰æè¿°æ€§</li>
</ul>

<h3 id="3-é€»è¾‘åˆ†ç»„">3. é€»è¾‘åˆ†ç»„</h3>

<p>å°†ç›¸å…³çš„é€»è¾‘ç»„ç»‡åœ¨ä¸€èµ·ï¼š</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ç”¨æˆ·ç›¸å…³é€»è¾‘</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">user</span><span class="p">,</span> <span class="nx">login</span><span class="p">,</span> <span class="nx">logout</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useAuth</span><span class="p">()</span>
    
    <span class="c1">// æ•°æ®è·å–é€»è¾‘</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">loading</span><span class="p">,</span> <span class="nx">error</span><span class="p">,</span> <span class="nx">fetchData</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useApi</span><span class="p">(</span><span class="dl">'</span><span class="s1">/api/posts</span><span class="dl">'</span><span class="p">)</span>
    
    <span class="c1">// è¡¨å•é€»è¾‘</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">form</span><span class="p">,</span> <span class="nx">validate</span><span class="p">,</span> <span class="nx">submit</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useForm</span><span class="p">()</span>
    
    <span class="k">return</span> <span class="p">{</span>
      <span class="c1">// ç”¨æˆ·</span>
      <span class="nx">user</span><span class="p">,</span>
      <span class="nx">login</span><span class="p">,</span>
      <span class="nx">logout</span><span class="p">,</span>
      
      <span class="c1">// æ•°æ®</span>
      <span class="nx">data</span><span class="p">,</span>
      <span class="nx">loading</span><span class="p">,</span>
      <span class="nx">error</span><span class="p">,</span>
      <span class="nx">fetchData</span><span class="p">,</span>
      
      <span class="c1">// è¡¨å•</span>
      <span class="nx">form</span><span class="p">,</span>
      <span class="nx">validate</span><span class="p">,</span>
      <span class="nx">submit</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="4-typescript-æ”¯æŒ">4. TypeScript æ”¯æŒ</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">Ref</span><span class="p">,</span> <span class="nx">computed</span><span class="p">,</span> <span class="nx">ComputedRef</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="kr">interface</span> <span class="nx">User</span> <span class="p">{</span>
  <span class="nl">id</span><span class="p">:</span> <span class="kr">number</span>
  <span class="nx">name</span><span class="p">:</span> <span class="kr">string</span>
  <span class="nx">email</span><span class="p">:</span> <span class="kr">string</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kd">function</span> <span class="nx">useUser</span><span class="p">():</span> <span class="p">{</span>
  <span class="nl">user</span><span class="p">:</span> <span class="nx">Ref</span><span class="o">&lt;</span><span class="nx">User</span> <span class="o">|</span> <span class="kc">null</span><span class="o">&gt;</span>
  <span class="nx">isLoggedIn</span><span class="p">:</span> <span class="nx">ComputedRef</span><span class="o">&lt;</span><span class="nx">boolean</span><span class="o">&gt;</span>
  <span class="nx">login</span><span class="p">:</span> <span class="p">(</span><span class="nx">userData</span><span class="p">:</span> <span class="nx">User</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span>
  <span class="nx">logout</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">void</span>
<span class="p">}</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">ref</span><span class="o">&lt;</span><span class="nx">User</span> <span class="o">|</span> <span class="kc">null</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span>
  
  <span class="kd">const</span> <span class="nx">isLoggedIn</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">user</span><span class="p">.</span><span class="nx">value</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span>
  
  <span class="kd">const</span> <span class="nx">login</span> <span class="o">=</span> <span class="p">(</span><span class="na">userData</span><span class="p">:</span> <span class="nx">User</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">user</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">userData</span>
  <span class="p">}</span>
  
  <span class="kd">const</span> <span class="nx">logout</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">user</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="kc">null</span>
  <span class="p">}</span>
  
  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">user</span><span class="p">,</span>
    <span class="nx">isLoggedIn</span><span class="p">,</span>
    <span class="nx">login</span><span class="p">,</span>
    <span class="nx">logout</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="æ€»ç»“">æ€»ç»“</h2>

<p>Composition API ä¸º Vue 3 å¸¦æ¥äº†æ›´å¼ºå¤§ã€æ›´çµæ´»çš„ç»„ä»¶å¼€å‘æ–¹å¼ã€‚é€šè¿‡åˆç†ä½¿ç”¨å“åº”å¼ APIã€ç»„åˆå‡½æ•°å’Œç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºæ›´åŠ æ¨¡å—åŒ–ã€å¯ç»´æŠ¤çš„åº”ç”¨ç¨‹åºã€‚</p>

<p>å…³é”®è¦ç‚¹ï¼š</p>

<ol>
  <li><strong>setup å‡½æ•°</strong>æ˜¯ Composition API çš„å…¥å£</li>
  <li><strong>ref å’Œ reactive</strong>æä¾›å“åº”å¼æ•°æ®</li>
  <li><strong>ç»„åˆå‡½æ•°</strong>å®ç°é€»è¾‘å¤ç”¨</li>
  <li><strong>åˆç†çš„ä»£ç ç»„ç»‡</strong>æé«˜å¯ç»´æŠ¤æ€§</li>
  <li><strong>TypeScript æ”¯æŒ</strong>æä¾›æ›´å¥½çš„å¼€å‘ä½“éªŒ</li>
</ol>

<p>æŒæ¡ Composition API å°†å¸®åŠ©ä½ æ„å»ºæ›´åŠ ç°ä»£åŒ–ã€é«˜æ•ˆçš„ Vue åº”ç”¨ç¨‹åºã€‚</p>

                </article>
                
                <!-- Post Navigation -->
                <nav class="post-navigation">
                    
                    <div class="nav-previous">
                        <a href="/blog/frontend-performance-optimization/" class="nav-link">
                            <span class="nav-label">ä¸Šä¸€ç¯‡</span>
                            <span class="nav-title">å‰ç«¯æ€§èƒ½ä¼˜åŒ–å®æˆ˜æŒ‡å—</span>
                        </a>
                    </div>
                    
                    
                </nav>

                <!-- Related Posts -->
                
                
                <section class="related-posts">
                    <h3>ç›¸å…³æ–‡ç« </h3>
                    <div class="related-posts-grid">
                        
                        <article class="related-post">
                            <h4><a href="/blog/frontend-performance-optimization/">å‰ç«¯æ€§èƒ½ä¼˜åŒ–å®æˆ˜æŒ‡å—</a></h4>
                            <time datetime="2024-01-10T00:00:00+08:00">
                                2024å¹´01æœˆ10æ—¥
                            </time>
                            
                            <p>å…¨é¢çš„å‰ç«¯æ€§èƒ½ä¼˜åŒ–æŒ‡å—ï¼Œä»åŠ è½½é€Ÿåº¦åˆ°è¿è¡Œæ—¶æ€§èƒ½ï¼Œå¸®åŠ©ä½ æ„å»ºæ›´å¿«ã€æ›´æµç•…çš„Webåº”ç”¨ã€‚</p>
                            
                        </article>
                        
                        <article class="related-post">
                            <h4><a href="/blog/modern-css-techniques/">ç°ä»£CSSæŠ€æœ¯ä¸æœ€ä½³å®è·µ</a></h4>
                            <time datetime="2024-01-05T00:00:00+08:00">
                                2024å¹´01æœˆ05æ—¥
                            </time>
                            
                            <p>æ¢ç´¢ç°ä»£CSSçš„å¼ºå¤§åŠŸèƒ½ï¼ŒåŒ…æ‹¬Gridå¸ƒå±€ã€Flexboxã€è‡ªå®šä¹‰å±æ€§ã€å®¹å™¨æŸ¥è¯¢ç­‰æœ€æ–°æŠ€æœ¯ï¼ŒåŠ©ä½ æ„å»ºæ›´ä¼˜é›…çš„ç”¨æˆ·ç•Œé¢ã€‚</p>
                            
                        </article>
                        
                    </div>
                </section>
                
            </div>
        </div>
    </section>
</main>
        </main>
        
        <!-- Footer -->
        <footer class="footer">
    <div class="container">
        <div class="footer-content">
            <div class="footer-section">
                <div class="footer-brand">
                    <h4>ä¸ªäººå®˜ç½‘</h4>
                    <p>ä¸“æ³¨äºå‰ç«¯æŠ€æœ¯ï¼Œè‡´åŠ›äºåˆ›é€ ä¼˜è´¨çš„ç”¨æˆ·ä½“éªŒå’Œé«˜è´¨é‡çš„ä»£ç ã€‚</p>
                </div>
                <div class="footer-social">
                    
                    <a href="https://github.com/Fxxk181126" class="social-link" target="_blank" title="GitHub">
                        <i class="fab fa-github"></i>
                    </a>
                    
                    
                    
                    
                    
                    
                    
                    <a href="https://juejin.cn/user/1574920986563927" class="social-link" target="_blank" title="æ˜é‡‘">
                        <i class="fas fa-gem"></i>
                    </a>
                    
                    
                    
                    <a href="https://www.zhihu.com/people/zhao-jiong-85-15" class="social-link" target="_blank" title="çŸ¥ä¹">
                        <i class="fab fa-zhihu"></i>
                    </a>
                    
                </div>
            </div>
            
            <div class="footer-section">
                <h4>å¿«é€Ÿé“¾æ¥</h4>
                <ul class="footer-links">
                    <li><a href="/">é¦–é¡µ</a></li>
                    <li><a href="/about">å…³äº</a></li>
                    <li><a href="/blog">åšå®¢</a></li>
                    <li><a href="/projects">é¡¹ç›®</a></li>
                    <li><a href="/contact">è”ç³»</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>æŠ€æœ¯æ ˆ</h4>
                <ul class="footer-links">
                    <li>Vue.js</li>
                    <li>React</li>
                    <li>TypeScript</li>
                    <li>JavaScript</li>
                    <li>CSS/SCSS</li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>è”ç³»æ–¹å¼</h4>
                <div class="footer-contact">
                    <p>é‚®ç®±: zhao999ss@163.com</p>
                    <p>åœ°å€: ä¸­å›½</p>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <div class="footer-copyright">
                <p>&copy; 2025 Zane. 2025 ä¸ªäººå®˜ç½‘. All Rights Reserved.</p>
            </div>
        </div>
    </div>
</footer>
        
        <!-- Scripts -->
        <!-- Core Scripts -->
<script src="/assets/js/main.js"></script>

<!-- Additional Scripts for specific pages -->

<!-- Syntax highlighting for code blocks -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">





<!-- Blog search and filtering -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Blog category filtering
    const categoryFilters = document.querySelectorAll('.category-filter');
    const blogCards = document.querySelectorAll('.blog-card');
    
    if (categoryFilters.length > 0) {
        categoryFilters.forEach(filter => {
            filter.addEventListener('click', function() {
                const filterValue = this.getAttribute('data-category');
                
                // Update active filter
                categoryFilters.forEach(f => f.classList.remove('active'));
                this.classList.add('active');
                
                // Filter blog posts
                blogCards.forEach(card => {
                    const cardCategory = card.getAttribute('data-category');
                    
                    if (filterValue === 'all' || cardCategory === filterValue) {
                        card.style.display = 'block';
                        setTimeout(() => card.classList.add('show'), 100);
                    } else {
                        card.classList.remove('show');
                        setTimeout(() => card.style.display = 'none', 300);
                    }
                });
            });
        });
    }
});
</script>


<!-- Analytics (if configured) -->

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XXXXXXXXXX');
</script>


<!-- Performance optimization -->
<script>
// Preload critical resources
document.addEventListener('DOMContentLoaded', function() {
    // Preload next page if user hovers over navigation links
    const navLinks = document.querySelectorAll('.nav-link');
    
    navLinks.forEach(link => {
        link.addEventListener('mouseenter', function() {
            const href = this.getAttribute('href');
            if (href && href.startsWith('/')) {
                const linkElement = document.createElement('link');
                linkElement.rel = 'prefetch';
                linkElement.href = href;
                document.head.appendChild(linkElement);
            }
        });
    });
});
</script>
        
        <!-- Tracking -->
        <!-- Google Analitycs -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', '', 'auto');
    ga('send', 'pageview');

</script>
<!-- END Google Analitycs -->
    </body>
</html>
